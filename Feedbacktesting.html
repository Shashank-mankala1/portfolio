<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="css/feedback.css">
    <title>Feedback Form</title>
    <link rel="icon" type="image/png" href="img/feedbacklogo.png">
</head>

<body>
    <iframe name="hidden_iframe" id="hidden_iframe" style="display: none"
        onload="if(submitted){if(check){alert('Feedback Successfully submitted!!! \nThanks for your Valuable Feedback :)'); window.location='index.html';}}"></iframe>
    <div class="feedbackformdiv">
        <div class="formdiv1">
            <form class="formdiv" target="hidden_iframe" onsubmit="submitted=true; check=funcheck();"
                action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSc5h_88p5_ZjA78NivkSLreixwzyiumu6tbHFK_QtFMzQISCw/formResponse"
                method="POST" target="_self">
                <label for="name" class="feedbacklabels"><b>Name</b></label>
                <input class="inpf" type="text" id="name" placeholder="Enter your name" name="entry.1226766311"
                    autocomplete="off" required />

                <label for="mailid" class="feedbacklabels"><b>Email Id</b></label>
                <input class="inpf" type="email" id="mailid" placeholder="Enter your email" name="entry.788815660"
                    autocomplete="off" required />

                <label for="rating" class="feedbacklabels"><b> How much you would rate my website ? </b></label>
                <div class="ratingdiv">
                    <p class="ratingnum">0</p><input type="range" name="entry.1132152875" id="rating" min="0" max="5"
                        step="1" onmouseover=cursoron(); onclick="viewrating();" required />
                    <p class="ratingnum">5</p>
                </div>

                <label for="feedback" class="feedbacklabels"><b>Feedback or Suggestion:</b></label>
                <textarea name="entry.670786812" id="feedback" cols="30" rows="10"
                    placeholder="Write here :)" required ></textarea>

                <div class="submitdiv">
                    <!-- <button type="submit" id="feedbacksubmitbtn">Submit</button> -->
                    <input id="submitbtn" type="submit"
                        style="width: 50%; height: 30px; border-radius: 5px; background: #83c5ff;"
                        onmouseover=cursoron();>
                </div>
            </form>
        </div>
    </div>
</body>
<script>
    var submitted = false;
    var check=false;
    var feedbacksubmitbtn = document.getElementById("feedbacksubmitbtn");

    var fname=document.getElementById("name").value;
    var fmail=document.getElementById("mailid").value;
    var ffeedback=document.getElementById("feedback").value;

    feedbacksubmitbtn.addEventListener('click', submitfeedback);
    function submitfeedback() {
        if(!(fname=="" || fmail=="" || ffeedback=="")){
            alert("Feedback Successfully submitted!!! \nThanks for your Valuable Feedback :)");
        }
        else{
            alert("Incomplete details. Please fill the feedback again");
        }
    }
    function funcheck(){
        if(!(fname=="" || fmail=="" || ffeedback=="")){
            return false;
        }
        else{
            return true;
        }
    }
    function cursoron() {
        document.getElementById("rating").style.cursor = "pointer";
        document.getElementById("submitbtn").style.cursor = "pointer";
    }
    function viewrating(){
        document.getElementById("rating").title=document.getElementById("rating").value;
    }
</script>

</html>